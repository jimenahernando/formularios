<h6>Control nombre valido: {{ formulario.get('nombre')?.valid }}</h6>
<h6>Control nombre valido: {{ formulario.get('nombre')?.errors | json }}</h6>

<div class="container my-2">
    <h3>Form Model</h3>
    <form novalidate [formGroup]="formulario" (ngSubmit)="recogerDatos()">
        <div class="my-2">
            <label for="nombre">Nombre</label>
            <input type="text" class="form-control" id="nombre" formControlName="nombre">
            <p class="error" *ngIf="checkControl('nombre','required')">El campo es requerido</p>
            <p class="error" *ngIf="checkControl('nombre','minlength')">La longitud minima es de 3 caracteres</p>
        </div>
        <div class="my-2">
            <label for="apellidos">Apellidos</label>
            <input type="text" class="form-control" id="apellidos" formControlName="apellidos">
            <p class="error" *ngIf="checkControl('apellidos','required')">El campo es requerido</p>
            <p class="error" *ngIf="checkControl('apellidos','minlength')">La longitud minima es de 10 caracteres</p>
        </div>
        <div class="my-2">
            <label for="apellidos">Edad</label>
            <input type="text" class="form-control" id="edad" formControlName="edad">
            <p class="error" *ngIf="checkControl('edad', 'edadValidator')">El campo edad debe estar entre 18 y 65 años</p>
        </div>
        <div class="my-2">
            <label for="email">Email</label>
            <input type="text" class="form-control" id="email" formControlName="email">
            <p class="error" *ngIf="checkControl('email','required')">El campo es requerido</p>
            <p class="error" *ngIf="checkControl('email','pattern')">Tiene que ser un formato valido</p>
        </div>
        <div class="my-2">
            <label for="dni">DNI</label>
            <input type="text" class="form-control" id="dni" formControlName="dni">
            <p class="error" *ngIf="checkControl('dni', 'dniValidator')">El formato de DNI no es correcto</p>
        </div>
        <div class="my-2">
            <label for="password">Password</label>
            <input type="password" class="form-control" id="password" formControlName="password">
            <p class="error" *ngIf="checkControl('password','minlength')">La longitud del password debe ser minimo de 8</p>
        </div>
        <div class="my-2">
            <label for="repitePassword">Repite Password</label>
            <input type="password" class="form-control" id="repitePassword" formControlName="repitePassword">
        </div>
        <p class="error" *ngIf="formulario.hasError('passwordValidator')">Las contraseñas no son iguales</p>
        
        <input type="submit" value="Enviar" class="btn btn-outline-primary mt-2" [disabled]="!formulario.valid">
    </form>
</div>

